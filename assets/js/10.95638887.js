(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{210:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"relationships"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#relationships"}},[t._v("#")]),t._v(" Relationships")]),t._v(" "),a("h2",{attrs:{id:"setting-up-controller"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-controller"}},[t._v("#")]),t._v(" Setting up Controller")]),t._v(" "),a("p",[t._v("Defining model relationship controller is very similar to defining model controller.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Models"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Post")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Laralord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("RelationController")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PostCommentsController")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RelationController")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * Fully-qualified model class name\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$model")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// or "App\\Models\\Post"')]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n    * Name of the relationship as it is defined on the Post model\n    */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("protected")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$relation")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'comments'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),a("p",[t._v("At this point, you do not need to worry about different relationship types - controllers are defined in the same way for all types of the relationships.")]),t._v(" "),a("h3",{attrs:{id:"fillable-pivot-fields-and-casting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fillable-pivot-fields-and-casting"}},[t._v("#")]),t._v(" Fillable pivot fields and casting")]),t._v(" "),a("p",[t._v("Hovewer, if you are defining the controller for "),a("code",[t._v("belongsToMany")]),t._v(" or "),a("code",[t._v("morphToMany")]),t._v(" relation type and have additional fields on pivot table, there are two additional properties to note - "),a("code",[t._v("protected $pivotFillable")]),t._v(" and "),a("code",[t._v("protected $pivotJson")]),t._v(".")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("$pivotFillable")]),t._v(" property needs to contain the list of pivot table fields that can be updated via "),a("code",[t._v("attach")]),t._v(", "),a("code",[t._v("sync")]),t._v(", "),a("code",[t._v("toggle")]),t._v(" and "),a("code",[t._v("updatePivot")]),t._v(" endpoints.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("$pivotJson")]),t._v(" property should contain the list of json fields on the pivot table that you would like to automatically cast to/from array. If you have defined "),a("code",[t._v("$casts")]),t._v(" property on the related "),a("a",{attrs:{href:"https://laravel.com/docs/master/eloquent-relationships#defining-custom-intermediate-table-models",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pivot model"),a("OutboundLink")],1),t._v(", then you can skip it.")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("KEY TAKEAWAYS")]),t._v(" "),a("ul",[a("li",[t._v("Model relationship controllers always extend "),a("code",[t._v("Laralord\\Orion\\Http\\Controllers\\RelationController")])]),t._v(" "),a("li",[a("code",[t._v("$model")]),t._v(" property is set to a fully qualified model class name")]),t._v(" "),a("li",[a("code",[t._v("$relation")]),t._v(" property is set to the exact relationship name as it is defined on the model")])])]),t._v(" "),a("h2",{attrs:{id:"setting-up-routes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-routes"}},[t._v("#")]),t._v(" Setting up Routes")]),t._v(" "),a("p",[t._v("Routes, unlike controllers, are defined in a different way for each relationship type.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Facades"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Laralord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Orion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nRoute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'as'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'api.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("relation type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'<resource name>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'<relation name>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'<controller>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])])]),a("p",[t._v("While you need to call different methods, their signature is the same: resource name, relation name, and controller.")]),t._v(" "),a("p",[t._v("Alternatively, you can register routes using "),a("code",[t._v("Orion::resourceRelation")]),t._v(" method and a fully-qualified relationship class name.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Facades"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Database"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Eloquent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Relations"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("HasMany")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Laralord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Orion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nRoute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'as'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'api.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resourceRelation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'API\\UserPostsController'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HasMany"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])])]),a("h3",{attrs:{id:"soft-deletes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#soft-deletes"}},[t._v("#")]),t._v(" Soft Deletes")]),t._v(" "),a("p",[t._v("If your relation model uses "),a("code",[t._v("SoftDeletes")]),t._v(" trait and you would like to expose the same functionality via API, add "),a("code",[t._v("'softDeletes' => true")]),t._v(" to the options array in the last parameter of the route registration method.")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Facades"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Route")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Laralord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Orion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nRoute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'as'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'api.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasManyResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'API\\UserPostsController'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'softDeletes'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean constant"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])])]),a("p",[t._v("This will introduce "),a("code",[t._v("restore")]),t._v(" endpoint. To learn how to permanently delete a resource via API (force delete), take a look at the related "),a("router-link",{attrs:{to:"/guide/query-parameters.html#soft-deletes"}},[t._v("Query Parameters")]),t._v(" section.")],1),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("+--------+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+-------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Domain "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Method    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" URI                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Name                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Action                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Middleware                                      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+--------+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+-------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/restore           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.posts.restore       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserPostsController@restore                      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])]),a("h2",{attrs:{id:"hasone"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hasone"}},[t._v("#")]),t._v(" hasOne")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOneResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'profiles'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'image'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'API\\ProfileImageController'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Available endpoints")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Method    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" URI                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Name                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Action                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/profiles/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("profile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/image                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.profiles.relation.image.store      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ProfileImageController@store                     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/profiles/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("profile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/image/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("image?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.profiles.relation.image.show       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ProfileImageController@show                      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/profiles/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("profile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/image/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("image?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.profiles.relation.image.update     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ProfileImageController@update                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PUT       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/profiles/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("profile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/image/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("image?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.profiles.relation.image.update     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ProfileImageController@update                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/profiles/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("profile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/image/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("image?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.profiles.relation.image.destroy    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ProfileImageController@destroy                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("Notice that the last parameter is marked as optional. Because it's a one-to-one relation, you can access the endpoint without providing related id - Laravel Orion will take care of it ðŸ™‚. "),a("code",[t._v("hasOe")]),t._v(", "),a("code",[t._v("belongsTo")]),t._v(", "),a("code",[t._v("hasOneThrough")]),t._v(" and "),a("code",[t._v("morphOne")]),t._v(" relations do not require the related.")])]),t._v(" "),a("h2",{attrs:{id:"hasmany"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hasmany"}},[t._v("#")]),t._v(" hasMany")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasManyResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'posts'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'API\\UserPostsController'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Available endpoints")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Method    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" URI                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Name                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Action                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/posts                          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.posts.index         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserPostsController@index                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/posts/search                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.posts.search        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserPostsController@index                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/posts                          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.posts.store         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserPostsController@store                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.posts.show          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserPostsController@show                         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.posts.update        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserPostsController@update                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PUT       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.posts.update        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserPostsController@update                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.posts.destroy       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserPostsController@destroy                      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/posts/associate                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.posts.associate     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserPostsController@associate                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/dissociate        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.posts.dissociate    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserPostsController@dissociate                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])]),a("h3",{attrs:{id:"associating"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#associating"}},[t._v("#")]),t._v(" Associating")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("hasMany")]),t._v(" relation resource provides "),a("code",[t._v("associate")]),t._v(" endpoint to associate relation resource with the main resource.")]),t._v(" "),a("p",[t._v("Request payload to the endpoint has only one field - "),a("code",[t._v("related_id")]),t._v(". In our example, "),a("code",[t._v("related_id")]),t._v(" would be ID of a post to be associated with user.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(POST) api/users/{user}/posts/associate")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload:")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"related_id"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"dissociating"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dissociating"}},[t._v("#")]),t._v(" Dissociating")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("hasMany")]),t._v(" relation resource also provides "),a("code",[t._v("dissociate")]),t._v(" endpoint to dissociate relation resource from the main resource.")]),t._v(" "),a("p",[t._v("There is no payload in request for this endpoint, however notice the "),a("code",[t._v("{post}")]),t._v(" route parameter - this would be ID of a post to be dissociated from user.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(DELETE) api/users/{user}/posts/{post}/dissociate")])]),t._v(" "),a("h2",{attrs:{id:"belongsto"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#belongsto"}},[t._v("#")]),t._v(" belongsTo")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("belongsToResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'user'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'API\\PostUserController'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Available endpoints")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Method    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" URI                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Name                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Action                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/user/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.user.show           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostUserController@show                          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/user/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.user.update         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostUserController@update                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PUT       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/user/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.user.update         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostUserController@update                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/user/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.user.destroy        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostUserController@destroy                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])]),a("h2",{attrs:{id:"belongstomany"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#belongstomany"}},[t._v("#")]),t._v(" belongsToMany")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("belongsToManyResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'roles'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'API\\UserRolesController'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Available endpoints")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Method    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" URI                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Name                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Action                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles                          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.index         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@index                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles/search                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.search        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@index                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles                          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.store         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@store                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.show          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@show                         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.update        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@update                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PUT       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.update        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@update                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.destroy       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@destroy                      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles/attach                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.attach        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@attach                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles/detach                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.detach        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@detach                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles/sync                     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.sync          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@sync                         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles/toggle                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.toggle        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@toggle                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/roles/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("role"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/pivot             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.roles.pivot         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserRolesController@updatePivot                  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("ATTENTION")]),t._v(" "),a("p",[t._v("Do not forget to define fillable pivot fields as described in "),a("router-link",{attrs:{to:"/guide/relationships.html#setting-up-controller"}},[t._v("Fillable pivot fields and casting")]),t._v(" section, if you have additional fields on pivot table, otherwise "),a("code",[t._v("attach")]),t._v(", "),a("code",[t._v("sync")]),t._v(", "),a("code",[t._v("toggle")]),t._v(" and "),a("code",[t._v("updatePivot")]),t._v(" endpoints may not work as expected for these fields.")],1)]),t._v(" "),a("h3",{attrs:{id:"attaching"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#attaching"}},[t._v("#")]),t._v(" Attaching")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("belongsToMany")]),t._v(" relation resource provides "),a("code",[t._v("attach")]),t._v(" endpoint to attach one or multiple relation resources to the main resource. For details on how attaching/detaching of related models works in Laravel, take a look at "),a("a",{attrs:{href:"https://laravel.com/docs/master/eloquent-relationships#updating-many-to-many-relationships",target:"_blank",rel:"noopener noreferrer"}},[t._v("Attaching / Detaching"),a("OutboundLink")],1),t._v(" section in Laravel Documenation.")]),t._v(" "),a("p",[t._v("Request payload consist of required "),a("code",[t._v("resources")]),t._v(" and optional "),a("code",[t._v("duplicates")]),t._v(" fields. Note, that "),a("code",[t._v("duplicates")]),t._v(" field can also be provided as query parameter.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("resources")]),t._v(" field might be an array or an object. If it is an array, then array items would be IDs of related resources that you would like to attach. If it is an object, then its keys would be IDs of related resources and values - objects containing pivot table fields to be set upon attaching the related resource.")]),t._v(" "),a("p",[t._v("By default "),a("code",[t._v("duplicates")]),t._v(" parameter is "),a("code",[t._v("false")]),t._v(". If set to "),a("code",[t._v("true")]),t._v(", attaching the same related resource multiple times would result in duplicated entries in pivot table.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(POST) api/users/{user}/roles/attach")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload (array version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Request payload (object version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example 3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"4"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example 4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"7"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example 7"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"detaching"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#detaching"}},[t._v("#")]),t._v(" Detaching")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("belongsToMany")]),t._v(" relation resource provides "),a("code",[t._v("detach")]),t._v(" endpoint to detach one or multiple relation resources to the main resource.")]),t._v(" "),a("p",[t._v("Request payload consist of only one field "),a("code",[t._v("resources")]),t._v(".")]),t._v(" "),a("p",[t._v("Similar to the "),a("code",[t._v("attach")]),t._v(" endpoint, "),a("code",[t._v("resources")]),t._v(" field might be an array or an object. By providing support for object representation of "),a("code",[t._v("resources")]),t._v(" field in this method, it makes it easier for the frontend to attach/detach related resources in a standardized way. You can also optionally store additional data in these objects that can be used in "),a("code",[t._v("beforeDetach")]),t._v(" or "),a("code",[t._v("afterDetach")]),t._v(" hooks.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(DELETE) api/users/{user}/roles/detach")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload (array version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Request payload (object version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"4"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"some_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"7"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"syncing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#syncing"}},[t._v("#")]),t._v(" Syncing")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("belongsToMany")]),t._v(" relation resource provides "),a("code",[t._v("sync")]),t._v(" endpoint to sync one or multiple relation resources on the main resource. For details on how syncing of related models works in Laravel, take a look at "),a("a",{attrs:{href:"https://laravel.com/docs/master/eloquent-relationships#updating-many-to-many-relationships",target:"_blank",rel:"noopener noreferrer"}},[t._v("Syncing Associations"),a("OutboundLink")],1),t._v(" section in Laravel Documentation.")]),t._v(" "),a("p",[t._v("Request payload consist of required "),a("code",[t._v("resources")]),t._v(" and optional "),a("code",[t._v("detaching")]),t._v(" fields. Note, that "),a("code",[t._v("detaching")]),t._v(" field can also be provided as query parameter.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("resources")]),t._v(" field might be an array or an object. If it is an array, then array items would be IDs of related resources that you would like to sync. If it is an object, then its keys would be IDs of related resources and values - objects containing pivot table fields to be set upon syncing the related resource.")]),t._v(" "),a("p",[t._v("By default "),a("code",[t._v("detaching")]),t._v(" parameter is "),a("code",[t._v("true")]),t._v(". If set to "),a("code",[t._v("false")]),t._v(", related resources that are missing in the payload, but preset in pivot table won't be detached.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(PATCH) api/users/{user}/roles/sync")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload (array version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Request payload (object version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updated xample 3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"4"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updated example 4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"toggling"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#toggling"}},[t._v("#")]),t._v(" Toggling")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("belongsToMany")]),t._v(" relation resource provides "),a("code",[t._v("toggle")]),t._v(' endpoint to "toggle" the attachment status of one or multiple relation resources. For details on how "toggling" of related models works in Laravel, take a look at '),a("a",{attrs:{href:"https://laravel.com/docs/master/eloquent-relationships#updating-many-to-many-relationships",target:"_blank",rel:"noopener noreferrer"}},[t._v("Toggling Associations"),a("OutboundLink")],1),t._v(" section in Laravel Documenation.")]),t._v(" "),a("p",[t._v("Request payload consist of only one field "),a("code",[t._v("resources")]),t._v(". Same as the sync endpoint, "),a("code",[t._v("resources")]),t._v(" field might be an array or an object.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(PATCH) api/users/{user}/roles/toggle")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload (array version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Request payload (object version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updated xample 3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"4"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updated example 4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"updating-pivot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updating-pivot"}},[t._v("#")]),t._v(" Updating pivot")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("belongsToMany")]),t._v(" relation resource provides "),a("code",[t._v("pivot")]),t._v(" endpoint to update pivot row of one relation resource. For details on how pivot row is updated, take a look at "),a("a",{attrs:{href:"https://laravel.com/docs/master/eloquent-relationships",target:"_blank",rel:"noopener noreferrer"}},[t._v("Updating A Record On A Pivot Table"),a("OutboundLink")],1),t._v(" section in Laravel Documentation.")]),t._v(" "),a("p",[t._v("Request payload consist of only one field "),a("code",[t._v("pivot")]),t._v(". Its properties are pivot table fields that will be updated for the related resource.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(PATCH) api/users/{user}/roles/{role}/pivot")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload:")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pivot"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// properties correspond to the columns in intermediate table")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updated xample 1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"another_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"new value"')]),t._v("\n        ...\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"hasonethrough"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hasonethrough"}},[t._v("#")]),t._v(" hasOneThrough")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOneThroughResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'meta'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'API\\PostMetaController'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Available endpoints")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Method    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" URI                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Name                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Action                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/meta                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.meta.store          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostMetaController@store                         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/meta/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("meta?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.meta.show           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostMetaController@show                          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/meta/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("meta?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.meta.update         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostMetaController@update                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PUT       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/meta/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("meta?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.meta.update         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostMetaController@update                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/meta/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("meta?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.meta.destroy        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostMetaController@destroy                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])]),a("h2",{attrs:{id:"hasmanythrough"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hasmanythrough"}},[t._v("#")]),t._v(" hasManyThrough")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasManyThroughResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'comments'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'API\\UserCommentsController'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Available endpoints")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Method    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" URI                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Name                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Action                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.comments.index      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserCommentsController@index                     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/search                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.comments.search     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserCommentsController@index                     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.comments.show       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserCommentsController@show                      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.comments.update     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserCommentsController@update                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PUT       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.comments.update     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserCommentsController@update                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.comments.destroy    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserCommentsController@destroy                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/associate             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.comments.associate  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserCommentsController@associate                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/users/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/dissociate  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.users.relation.comments.dissociate "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("UserCommentsController@dissociate                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])]),a("h3",{attrs:{id:"associating-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#associating-2"}},[t._v("#")]),t._v(" Associating")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("hasManyThrough")]),t._v(" relation resource provides "),a("code",[t._v("associate")]),t._v(" endpoint to associate relation resource with the main resource.")]),t._v(" "),a("p",[t._v("Request payload to the endpoint has only one field - "),a("code",[t._v("related_id")]),t._v(". In our example, "),a("code",[t._v("related_id")]),t._v(" would be ID of a comment to be associated with user.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(POST) api/users/{user}/comments/associate")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload:")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"related_id"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"dissociating-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dissociating-2"}},[t._v("#")]),t._v(" Dissociating")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("hasManyThrough")]),t._v(" relation resource also provides "),a("code",[t._v("dissociate")]),t._v(" endpoint to dissociate relation resource from the main resource.")]),t._v(" "),a("p",[t._v("There is no payload in request for this endpoint, however notice the "),a("code",[t._v("{comment}")]),t._v(" route parameter - this would be ID of a comment to be dissociated from user.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(DELETE) api/users/{user}/comments/{comment}/dissociate")])]),t._v(" "),a("h2",{attrs:{id:"morphone"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#morphone"}},[t._v("#")]),t._v(" morphOne")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("morphOneResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'image'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'API\\PostImageController'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Available endpoints")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Method    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" URI                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Name                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Action                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/image                          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.image.store         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostImageController@store                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/image/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("image?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.image.show          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostImageController@show                         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/image/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("image?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.image.update        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostImageController@update                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PUT       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/image/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("image?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.image.update        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostImageController@update                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/image/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("image?"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.image.destroy       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostImageController@destroy                      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])]),a("h2",{attrs:{id:"morphmany"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#morphmany"}},[t._v("#")]),t._v(" morphMany")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("morphManyResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'comments'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'API\\PostCommentsController'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Available endpoints")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Method    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" URI                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Name                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Action                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.comments.index      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostCommentsController@index                     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/search                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.comments.search     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostCommentsController@index                     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.comments.store      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostCommentsController@store                     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.comments.show       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostCommentsController@show                      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.comments.update     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostCommentsController@update                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PUT       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.comments.update     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostCommentsController@update                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.comments.destroy    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostCommentsController@destroy                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/associate             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.comments.associate  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostCommentsController@associate                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/comments/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/dissociate  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.comments.dissociate "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostCommentsController@dissociate                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])]),a("h3",{attrs:{id:"associating-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#associating-3"}},[t._v("#")]),t._v(" Associating")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("morphMany")]),t._v(" relation resource provides "),a("code",[t._v("associate")]),t._v(" endpoint to associate relation resource with the main resource.")]),t._v(" "),a("p",[t._v("Request payload to the endpoint has only one field - "),a("code",[t._v("related_id")]),t._v(". In our example, "),a("code",[t._v("related_id")]),t._v(" would be ID of a comment to be associated with post.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(POST) api/posts/{post}/comments/associate")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload:")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"related_id"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"dissociating-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dissociating-3"}},[t._v("#")]),t._v(" Dissociating")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("morphMany")]),t._v(" relation resource also provides "),a("code",[t._v("dissociate")]),t._v(" endpoint to dissociate relation resource from the main resource.")]),t._v(" "),a("p",[t._v("There is no payload in request for this endpoint, however notice the "),a("code",[t._v("{comment}")]),t._v(" route parameter - this would be ID of a comment to be dissociated from post.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(DELETE) api/posts/{post}/comments/{comment}/dissociate")])]),t._v(" "),a("h2",{attrs:{id:"morphtomany"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#morphtomany"}},[t._v("#")]),t._v(" morphToMany")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("Orion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("morphToManyResource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'posts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'tags'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'API\\PostTagsController'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Available endpoints")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Method    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" URI                                             "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Name                                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Action                                                                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+-----------+-------------------------------------------------+----------------------------------------+---------------------------------------------------------------------------+\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.index          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@index                         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags/search                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.search         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@index                         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags                           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.store          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@store                         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" GET"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("HEAD  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.show           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@show                          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.update         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@update                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PUT       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.update         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@update                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.destroy        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@destroy                       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" POST      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags/attach                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.attach         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@attach                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" DELETE    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags/detach                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.detach         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@detach                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags/sync                      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.sync           "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@sync                          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags/toggle                    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.toggle         "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@toggle                        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" PATCH     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api/posts/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("post"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/tags/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/pivot               "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api.posts.relation.tags.pivot          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controllers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("API"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PostTagsController@updatePivot                   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("ATTENTION")]),t._v(" "),a("p",[t._v("Do not forget to define fillable pivot fields as described in "),a("router-link",{attrs:{to:"/guide/relationships.html#setting-up-controller"}},[t._v("Fillable pivot fields and casting")]),t._v(" section, if you have additional fields on pivot table, otherwise "),a("code",[t._v("attach")]),t._v(", "),a("code",[t._v("sync")]),t._v(", "),a("code",[t._v("toggle")]),t._v(" and "),a("code",[t._v("updatePivot")]),t._v(" endpoints may not work as expected for these fields.")],1)]),t._v(" "),a("h3",{attrs:{id:"attaching-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#attaching-2"}},[t._v("#")]),t._v(" Attaching")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("morphToMany")]),t._v(" relation resource provides "),a("code",[t._v("attach")]),t._v(" endpoint to attach one or multiple relation resources to the main resource. For details on how attaching/detaching of related models works in Laravel, take a look at "),a("a",{attrs:{href:"https://laravel.com/docs/master/eloquent-relationships#updating-many-to-many-relationships",target:"_blank",rel:"noopener noreferrer"}},[t._v("Attaching / Detaching"),a("OutboundLink")],1),t._v(" section in Laravel Documenation.")]),t._v(" "),a("p",[t._v("Request payload consist of required "),a("code",[t._v("resources")]),t._v(" and optional "),a("code",[t._v("duplicates")]),t._v(" fields. Note, that "),a("code",[t._v("duplicates")]),t._v(" field can also be provided as query parameter.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("resources")]),t._v(" field might be an array or an object. If it is an array, then array items would be IDs of related resources that you would like to attach. If it is an object, then its keys would be IDs of related resources and values - objects containing pivot table fields to be set upon attaching the related resource.")]),t._v(" "),a("p",[t._v("By default "),a("code",[t._v("duplicates")]),t._v(" parameter is "),a("code",[t._v("false")]),t._v(". If set to "),a("code",[t._v("true")]),t._v(", attaching the same related resource multiple times would result in duplicated entries in pivot table.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(POST) api/posts/{post}/tags/attach")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload (array version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Request payload (object version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example 3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"4"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example 4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"7"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example 7"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"detaching-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#detaching-2"}},[t._v("#")]),t._v(" Detaching")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("morphToMany")]),t._v(" relation resource provides "),a("code",[t._v("detach")]),t._v(" endpoint to detach one or multiple relation resources to the main resource.")]),t._v(" "),a("p",[t._v("Request payload consist of only one field "),a("code",[t._v("resources")]),t._v(".")]),t._v(" "),a("p",[t._v("Similar to the "),a("code",[t._v("attach")]),t._v(" endpoint, "),a("code",[t._v("resources")]),t._v(" field might be an array or an object. By providing support for object representation of "),a("code",[t._v("resources")]),t._v(" field in this method, it makes it easier for the frontend to attach/detach related resources in a standardized way. You can also optionally store additional data in these objects that can be used in "),a("code",[t._v("beforeDetach")]),t._v(" or "),a("code",[t._v("afterDetach")]),t._v(" hooks.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(DELETE) api/posts/{post}/tags/detach")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload (array version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Request payload (object version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"4"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"some_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"7"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"syncing-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#syncing-2"}},[t._v("#")]),t._v(" Syncing")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("morphToMany")]),t._v(" relation resource provides "),a("code",[t._v("sync")]),t._v(" endpoint to sync one or multiple relation resources on the main resource. For details on how syncing of related models works in Laravel, take a look at "),a("a",{attrs:{href:"https://laravel.com/docs/master/eloquent-relationships#updating-many-to-many-relationships",target:"_blank",rel:"noopener noreferrer"}},[t._v("Syncing Associations"),a("OutboundLink")],1),t._v(" section in Laravel Documentation.")]),t._v(" "),a("p",[t._v("Request payload consist of required "),a("code",[t._v("resources")]),t._v(" and optional "),a("code",[t._v("detaching")]),t._v(" fields. Note, that "),a("code",[t._v("detaching")]),t._v(" field can also be provided as query parameter.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("resources")]),t._v(" field might be an array or an object. If it is an array, then array items would be IDs of related resources that you would like to sync. If it is an object, then its keys would be IDs of related resources and values - objects containing pivot table fields to be set upon syncing the related resource.")]),t._v(" "),a("p",[t._v("By default "),a("code",[t._v("detaching")]),t._v(" parameter is "),a("code",[t._v("true")]),t._v(". If set to "),a("code",[t._v("false")]),t._v(", related resources that are missing in the payload, but preset in pivot table won't be detached.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(PATCH) api/posts/{post}/tags/sync")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload (array version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Request payload (object version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updated xample 3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"4"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updated example 4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"toggling-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#toggling-2"}},[t._v("#")]),t._v(" Toggling")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("morphToMany")]),t._v(" relation resource provides "),a("code",[t._v("toggle")]),t._v(' endpoint to "toggle" the attachment status of one or multiple relation resources. For details on how "toggling" of related models works in Laravel, take a look at '),a("a",{attrs:{href:"https://laravel.com/docs/master/eloquent-relationships#updating-many-to-many-relationships",target:"_blank",rel:"noopener noreferrer"}},[t._v("Toggling Associations"),a("OutboundLink")],1),t._v(" section in Laravel Documenation.")]),t._v(" "),a("p",[t._v("Request payload consist of only one field "),a("code",[t._v("resources")]),t._v(". Same as the sync endpoint, "),a("code",[t._v("resources")]),t._v(" field might be an array or an object.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(PATCH) api/posts/{post}/tags/toggle")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload (array version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Request payload (object version):")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resources"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"3"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updated xample 3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"4"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updated example 4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            ...\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"updating-pivot-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updating-pivot-2"}},[t._v("#")]),t._v(" Updating pivot")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("morphToMany")]),t._v(" relation resource provides "),a("code",[t._v("pivot")]),t._v(" endpoint to update pivot row of one relation resource. For details on how pivot row is updated, take a look at "),a("a",{attrs:{href:"https://laravel.com/docs/master/eloquent-relationships",target:"_blank",rel:"noopener noreferrer"}},[t._v("Updating A Record On A Pivot Table"),a("OutboundLink")],1),t._v(" section in Laravel Documentation.")]),t._v(" "),a("p",[t._v("Request payload consist of only one field "),a("code",[t._v("pivot")]),t._v(". Its properties are pivot table fields that will be updated for the related resource.")]),t._v(" "),a("p",[a("strong",[t._v("Endpoint:")]),t._v(" "),a("code",[t._v("(PATCH) api/posts/{post}/tags/{tag}/pivot")])]),t._v(" "),a("p",[a("strong",[t._v("Request payload:")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pivot"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// properties correspond to the columns in intermediate table")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"example_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"updated xample 1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"another_pivot_field"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"new value"')]),t._v("\n        ...\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);